!function(e){function t(t){for(var i,r,n=t[0],c=t[1],m=t[2],l=0,d=[];l<n.length;l++)r=n[l],s[r]&&d.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(_&&_(t);d.length;)d.shift()();return o.push.apply(o,m||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,n=1;n<a.length;n++){var c=a[n];0!==s[c]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},s={index:0},o=[];function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="https://res.wx.qq.com/wechatgame/product/minigame-factory/";var n=window.webpackJsonp=window.webpackJsonp||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var m=0;m<n.length;m++)t(n[m]);var _=c;o.push([0,"chunk-vendors","chunk-common"]),a()}({0:function(e,t,a){e.exports=a("44eb")},1655:function(e,t,a){"use strict";var i=a("99bf");a.n(i).a},"18ef":function(e,t,a){},"1d0c":function(e,t,a){"use strict";var i=a("851c");a.n(i).a},"38d8":function(e,t,a){},"44eb":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d"),a("96cf");var i,s,o,r,n,c,m=a("1da1"),_=(a("4917"),{name:"index",data:function(){return{isMobile:/iphone|ipod|ios|android|symbianos|windows phone|miuibrowser|meego|blackberry|lubanwb/i.test(navigator.userAgent.toLowerCase())||!!navigator.userAgent.match(/AppleWebKit.*Mobile.*/),isIPad:/ipad/i.test(navigator.userAgent.toLowerCase()),tipsMsg:!1}},mounted:(s=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.showTips=this.showTips;case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)}),methods:{clickReport:function(e){window.MtaH5.clickStat(e),aegis.reportEvent({name:e})},showTips:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;this.tipsMsg=e,i&&clearTimeout(i),i=setTimeout((function(){t.tipsMsg=!1,i=null}),a)},openProject:function(e){this.$router.push({name:"game",query:{game_id:e}})}}}),l=(a("bbe4"),a("2877")),d=Object(l.a)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker",on:{dragstart:function(e){e.preventDefault()}}},[a("div",{staticClass:"gamemaker__navBar"},[a("div",{staticClass:"gamemaker__navBar-inner"},[a("div",{staticClass:"gamemaker__navBar-logoTitleBetaComb",on:{click:function(t){e.$router.replace({name:"index"})}}},[e._m(0)]),a("div",{staticClass:"gamemaker__navBar-menu"},[a("ul",{staticClass:"gamemaker__navBar-menu-ul"},[a("li",{class:{"gamemaker__navBar-menu-li_active":"index"===this.$route.name},on:{click:function(t){e.$router.replace({name:"index"})}}},[a("a",{staticClass:"gamemaker__navBar-option",attrs:{href:"javascript:;"}},[e._v("首页")])]),a("li",{class:{"gamemaker__navBar-menu-li_active":"gallery"===this.$route.name},on:{click:function(t){e.$router.replace({name:"gallery"}),e.clickReport("opengalleryfromindex_topbar")}}},[a("a",{staticClass:"gamemaker__navBar-option",attrs:{href:"javascript:;"}},[e._v("社区作品")])]),a("li",[a("a",{staticClass:"gamemaker__navBar-option",attrs:{href:"https://gamemaker.weixin.qq.com/doc/index.html",target:"_blank"},on:{click:function(t){e.clickReport("opendocfromindex")}}},[e._v("开发文档")])]),a("li",[a("a",{staticClass:"gamemaker__navBar-option",attrs:{href:"https://developers.weixin.qq.com/community/minihome/mixflow/1310477560790351872",target:"_blank"},on:{click:function(t){e.clickReport("gotodevFromIndex")}}},[e._v("开发论坛")])])])])])]),a("router-view",{attrs:{openProject:e.openProject,isMobile:e.isMobile,isIPad:e.isIPad}}),a("div",{staticClass:"gamemaker__footer"},[a("div",{staticClass:"gamemaker__footer-copyright"},[e._v("Copyright © 1998-"+e._s(Math.max((new Date).getFullYear(),2021))+" Tencent. All Rights Reserved.")])]),a("transition",{attrs:{"enter-active-class":"fadeIn","leave-to-class":"fadeOut"}},[e.tipsMsg?a("div",{staticClass:"tipsMsg"},[e._v(e._s(e.tipsMsg))]):e._e()])],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__navBar-logoTitleBeta"},[a("div",{staticClass:"gamemaker__navBar-logo"}),a("p",{staticClass:"gamemaker__navBar-title"},[e._v("微信小游戏制作工具")]),a("div",{staticClass:"gamemaker__navBar-betaContainer"})])}],!1,null,null,null).exports,u=(a("a481"),a("386d"),a("bc3a")),g=a.n(u),p=a("b8ce"),h=a("b12a"),v={data:function(){return{bannerList:[{game_id:"lbNDc3NjFlZDQtMTJkNS00MDdkLTk0MWMtM2ZmMzBhZjlhZTI5",project_name:"我的98K",public_share_image_url:"https://mmgame.qpic.cn/image/88c2600411f6056bb7aa233a7d49ccb2613180030026cee8efa162e7bd71dba7",context:"模拟线上微信小游戏《我的98K》,超爽无敌的动作射击游戏，由官方开发，使用了工具很多插件和行为完成，扫码立即体验。",qrcode:"https://mmgame.qpic.cn/image/62e44ddf23cfedd7adff6b80b1fc58d1d18e0716ba3ca5fdc24c868756ec3aff"},{game_id:"lbZmZiOTM2NjctZmFlNS00MzZhLWIwNDQtYTFmMDc4NjBmOWMy",project_name:"踩一踩",public_share_image_url:"https://mmgame.qpic.cn/image/ef50674fb1efed83ada9195c404fb0a9b03c8b24f7ae189237eeab88e2d02800",context:"本游戏使用微信小游戏制作工具制作，由一位开发者独立完成，耗时约2周，超魔性的玩法，扫码立即体验。",qrcode:"https://gamemaker.weixin.qq.com/cgi-bin/gamelubandevwap/getfreeloginbetareleasecode?game_id=lbZmZiOTM2NjctZmFlNS00MzZhLWIwNDQtYTFmMDc4NjBmOWMy&release_type=2&is_public=true"}],videoPlaying:!1,registerTips:!1,videoTranslateY:0,activites_list:!1,hoverId:null,selectNav:0}},components:{LBTabs:h.a},computed:{tabsData:function(){return[{key:0,content:"潜力作品"},{key:1,content:"热门作品"},{key:2,content:"最近新作"}]},activites_list_home:function(){var e=window.localStorage.getItem("__index__recommend__list");if(this.activites_list){var t=this.randomArr(this.activites_list[["hot_game_list","fine_game_list","fresh_new_game_list"][this.selectNav]].project_meta_list,11);return 0!==this.selectNav?t:(window.localStorage.setItem("__index__recommend__list",JSON.stringify(t)),e?JSON.parse(e):t)}return 0!==this.selectNav?[]:e?JSON.parse(e):[]}},props:["openProject","isMobile","isIPad"],mounted:function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isMobile||(window.addEventListener("scroll",this.onScroll),this.onScroll()),(t=Object(p.a)("game_id",location.search))&&this.openProject(t),this.getProjectList();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),methods:{changeNav:function(e){this.selectNav=e.index},hideQrCode:function(){this.hoverId=null},showQrcode:function(e){this.hoverId=e},randomArr:function(e,t){if(e.length<t)return e;for(var a=[],i=0;t&&e.length>=t;){var s=e.splice([~~(Math.random()*(e.length-i))],1)[0];a.push(s),e.push(s),t--,i++}return a},openGallery:function(){this.$router.replace({name:"gallery"}),MtaH5.clickStat("opengalleryfromindex"),aegis.reportEvent({name:"点击首页打开社区按钮"})},onScroll:function(){var e=0===document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;this.videoTranslateY=-Math.min(e/2,393)},tryItNow:function(){MtaH5.clickStat("gotoide"),aegis.reportEvent({name:"点击首页打开IDE按钮"}),this.isMobile&&!this.isIPad?this.registerTips=!0:setTimeout((function(){location.href="https://gamemaker.weixin.qq.com/ide#/"}),100)},dialogFadeOut:function(){this.registerTips=!1},openVideo:function(){this.videoPlaying=!0,this.isMobile?setTimeout((function(){document.getElementsByClassName("gamemaker__videoH5")[0].play()}),100):setTimeout((function(){document.getElementsByClassName("gamemaker__video")[0].play()}),100),MtaH5.clickStat("openVideoFromIndex"),aegis.reportEvent({name:"点击首页视频"})},closeVideo:function(){this.videoPlaying=!1,document.getElementsByClassName("gamemaker__video")[0].pause()},openDevDoc:function(){MtaH5.clickStat("gotoDocFromIndex"),aegis.reportEvent({name:"点击首页跳转文档"});var e="https://gamemaker.weixin.qq.com/doc/index.html";-1!==navigator.userAgent.indexOf("MicroMessenger")?window.wxBridge&&wxBridge.verifyJsapi(wxBridge.apis,(function(){wxBridge.openUrl?wxBridge.openUrl(e):wxBridge.openUrlWithExtraWebview(e)})):window.open(e)},getProjectList:(o=Object(m.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/cgi-bin/gamelubandevwap/getcommunitygamelist?game_type=7");case 2:0===(t=e.sent).data.errcode&&(this.activites_list=t.data.data);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},destroyed:function(){window.removeEventListener("scroll",this.onScroll)}},f=(a("6d63"),a("8f35"),Object(l.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__index"},[a("div",{staticClass:"gamemaker__header"},[a("div",{staticClass:"gamemaker__header-inner"},[a("div",{staticClass:"gamemaker__banner-box"},[a("div",{staticClass:"gamemaker__banner-title"},[e._v("做个小游戏，也可以很简单")]),a("div",{staticClass:"gamemaker__banner-content"},[e._v("希望更多的创作者用小游戏释放创意")]),a("div",{staticClass:"gamemaker__banner-image"}),e._m(0),a("div",{staticClass:"gamemaker__banner-buttonApply"},[a("a",{staticClass:"gamemaker__banner-button gamemaker__orangeButton",on:{click:e.tryItNow}},[e._v("立即体验")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.registerTips,expression:"registerTips"}],staticClass:"gamemaker__dialogWrapper"},[a("div",{staticClass:"gamemaker__mask"}),a("div",{staticClass:"gamemaker__dialog"},[e._m(1),a("div",{staticClass:"gamemaker__dialog-ft"},[a("a",{staticClass:"gamemaker__dialog-btn gamemaker__dialog-btn_primary",attrs:{href:"javascript:;"},on:{click:e.dialogFadeOut}},[e._v("我知道了")])])])])])])]),a("div",{staticClass:"gamemaker__galleryBox"},[a("div",{staticClass:"gamemaker__galleryTitle"},[e._v("社区作品")]),a("div",{staticClass:"tab-content"},[a("LBTabs",{attrs:{tabsData:e.tabsData,activeIndex:e.selectNav},on:{change:e.changeNav}})],1),a("div",{staticClass:"gamemaker__galleryList"},[e._l(e.activites_list_home,(function(t){return a("div",{staticClass:"gamemaker__Product",on:{click:function(a){e.openProject(t.game_id)}}},[a("div",{staticClass:"gamemaker__ProductImgBox"},[a("div",{staticClass:"gamemaker__ProductImg",style:{backgroundImage:"url("+(t.public_share_image_url||t.screenshot)+")"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverId===t.game_id,expression:"hoverId === item.game_id"}],staticClass:"gamemaker__ProductQR"},[a("div",{staticClass:"gamemaker__ProductQRBitmap",style:{backgroundImage:"url(/cgi-bin/gamelubandevwap/getfreeloginbetareleasecode?game_id="+t.game_id+"&release_type=2&is_public=true)"}})]),a("div",{staticClass:"gamemaker__ProductQR-background"}),e.isMobile||t.code_type?e._e():a("div",{staticClass:"gamemaker__ProductQRCode icon",on:{mouseout:function(t){e.hideQrCode()},mouseover:function(a){e.showQrcode(t.game_id)}}})]),a("div",{staticClass:"gamemaker__ProductTitle"},[e._v(e._s(t.project_name||"未命名"))]),a("div",{staticClass:"gamemaker__ProductInfo"},[a("div",[a("div",{staticClass:"gamemaker__ProductHeadImg",style:{"background-image":"url("+(t.is_official_project?"https://res.wx.qq.com/wechatgame/product/cdn/luban/logo_b1a569f9.png":t.head_img_url.replace(/^http:/,"https:")+"/64")+")"}}),a("div",{staticClass:"gamemaker__ProductNickname"},[e._v(e._s(t.is_official_project?"小游戏制作工具官方":t.nick_name||"匿名用户"))])]),a("div",[a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductLike"},[e._v(e._s(t.like_num))]),a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductView"},[e._v(e._s(t.page_view))])])])])})),e._m(2)],2),a("div",{staticClass:"gamemaker__banner-button gamemaker__whiteButton",staticStyle:{margin:"0 auto !important"},on:{click:e.openGallery}},[e._v("查看更多社区作品")])]),e.isMobile?e._e():a("div",{directives:[{name:"show",rawName:"v-show",value:e.videoPlaying,expression:"videoPlaying"}],staticClass:"gamemaker__videoPlayerContianer"},[a("div",{staticClass:"gamemaker__mask"}),a("div",{staticClass:"gamemaker__player"},[a("div",{staticClass:"gamemaker__playerWrapper"},[e._m(3),a("div",{staticClass:"gamemaker__playerClose",on:{click:e.closeVideo}})])])]),a("div",{staticClass:"gamemaker__charaBox"},[e._m(4),e.isMobile?a("div",{staticClass:"gamemaker__introVideoContianer"},[a("img",{staticClass:"gamemaker__introVideoBackground",style:{transform:"translate(0,"+e.videoTranslateY+"px)"},attrs:{src:"https://res.wx.qq.com/wechatgame/product/cdn/luban/cover_f4a9aac0.png"}}),a("div",{staticClass:"gamemaker__introVideo",on:{click:e.openVideo}},[e._m(6),e.isMobile?a("video",{staticClass:"gamemaker__videoH5",style:{width:e.videoPlaying?"100%":"1px",height:e.videoPlaying?"100%":"1px",opacity:e.videoPlaying?"1":"0"},attrs:{controls:""}},[a("source",{attrs:{src:"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20201026/165325/quickstart.mp4",type:"video/mp4"}})]):e._e()])]):a("div",{staticClass:"gamemaker_productImg",on:{click:e.openVideo}},[a("div",{staticClass:"bg",staticStyle:{"background-image":"url(https://res.wx.qq.com/wechatgame/product/cdn/luban/cover_f4a9aac0.png)"}}),e._m(5)])]),e._m(7),a("div",{staticClass:"gamemaker__joinBox"},[e._m(8),a("div",{staticClass:"gamemaker__devDocument"},[a("a",{staticClass:"gamemaker__devDocumentA",on:{click:function(t){e.openDevDoc()}}},[e._v("开发文档")])])])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__navBar-logoTitleBetaComb"},[a("div",{staticClass:"gamemaker__navBar-logoTitleBeta"},[a("div",{staticClass:"gamemaker__navBar-logo"}),a("p",{staticClass:"gamemaker__navBar-title"},[e._v("微信小游戏制作工具")]),a("div",{staticClass:"gamemaker__navBar-betaContainer"})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__dialog-bd"},[e._v("请在电脑上访问以下网址体验"),a("br"),a("a",{staticClass:"gamemaker__dialog-href"},[e._v("gm.weixin.qq.com")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__Product"},[a("div",{staticClass:"gamemaker__ProductImgBox",staticStyle:{"background-color":"white"}},[a("img",{staticClass:"gamemaker__qrcode",attrs:{src:"https://mmgame.qpic.cn/image/0e7ab3b93ea4962104bcd11877ee05f18bffac17b5c17eac52e2b2a5df6d0daf"}}),a("div",{staticClass:"gamemaker_title-special"},[e._v("手机扫码体验更多作品")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("video",{staticClass:"gamemaker__video",attrs:{controls:""}},[t("source",{attrs:{src:"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20201026/165325/quickstart.mp4",type:"video/mp4"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__charaTitle"},[a("div",{staticClass:"gamemaker__charaTitle1"},[e._v("功能展示")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__videoTitleWrapper"},[a("div",{staticClass:"gamemaker__playIcon"}),a("div",{staticClass:"gamemaker__playTitle"},[e._v("观看可视化制作小游戏的过程")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__videoTitleWrapper"},[a("div",{staticClass:"gamemaker__playIcon"}),a("div",{staticClass:"gamemaker__playTitle"},[e._v("观看可视化制作小游戏的过程")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__charaBox"},[a("div",{staticClass:"gamemaker__charaTitle"},[a("div",{staticClass:"gamemaker__charaTitle1"},[e._v("工具特色")]),a("div",{staticClass:"gamemaker__charaTitle2"},[e._v("我们致力于为小游戏创作提供更多能力")])]),a("div",{staticClass:"gamemaker__charaList"},[a("div",{staticClass:"gamemaker__chara"},[a("div",{staticClass:"gamemaker__icon gamemaker__vizProgram"}),a("div",{staticClass:"gamemaker__title"},[e._v("可视化编程")]),a("div",{staticClass:"gamemaker__chara-content"},[e._v("游戏制作所见即所得"),a("br"),e._v("快速上手、无需代码")])]),a("div",{staticClass:"gamemaker__chara"},[a("div",{staticClass:"gamemaker__icon gamemaker__efficient"}),a("div",{staticClass:"gamemaker__title"},[e._v("高效开发")]),a("div",{staticClass:"gamemaker__chara-content"},[e._v("丰富的官方组件"),a("br"),e._v("排行榜、性能调优一键完成")])]),a("div",{staticClass:"gamemaker__chara"},[a("div",{staticClass:"gamemaker__icon gamemaker__idea"}),a("div",{staticClass:"gamemaker__title"},[e._v("赋能创意")]),a("div",{staticClass:"gamemaker__chara-content"},[e._v("个性化素材、自定义组件"),a("br"),e._v("\n                        高级画板工具\n                    ")])]),a("div",{staticClass:"gamemaker__chara"},[a("div",{staticClass:"gamemaker__icon gamemaker__release"}),a("div",{staticClass:"gamemaker__title"},[e._v("快速分享")]),a("div",{staticClass:"gamemaker__chara-content"},[e._v("实时预览分享小游戏"),a("br"),e._v("\n                        标准化发布到MP平台\n                    ")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__joinContent"},[e._v("\n                目前「微信小游戏制作工具」正在内测，感谢你的体验，如果有其他疑问或建议，请\n                "),a("a",{staticClass:"gamemaker__feedback",attrs:{href:"https://developers.weixin.qq.com/community/minihome/mixflow/1310477560790351872",target:"_blank"}},[e._v("点此反馈")])])}],!1,null,"30f037fb",null).exports),k=a("5f7b"),b={data:function(){return{activites_list:!1,selectNav:0,isLoading:!1,loadingTxt:"加载中...",hoverId:null}},props:["openProject","isMobile"],components:{LBTabs:h.a,LBMessage:k.a},computed:{tabsData:function(){return[{key:0,content:"潜力作品"},{key:1,content:"热门作品"},{key:2,content:"最近新作"}]},hot_list_recomment:function(){return this.activites_list?this.activites_list.hot_game_list.project_meta_list:[]},fresh_list_recomment:function(){return this.activites_list?this.activites_list.fresh_new_game_list.project_meta_list:[]},fine_list_recomment:function(){return this.activites_list?this.activites_list.fine_game_list.project_meta_list:[]}},mounted:function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getProjectList(),document.addEventListener("scroll",this.scrollMethod,!1);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),methods:{scrollMethod:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){if(document.querySelector("#_fine")&&document.querySelector("#_new")&&document.querySelector(".lb__tabs")){var t=document.querySelector("#_fine").getBoundingClientRect().top,a=document.querySelector("#_new").getBoundingClientRect().top,i=document.querySelector(".lb__tabs").getBoundingClientRect().bottom+100;e.selectNav=a<i?2:t<i?1:0}}),0)},showLoading:function(e){this.loadingTxt=e,this.isLoading=!0},hideLoading:function(){this.isLoading=!1},hideQrCode:function(){this.hoverId=null},showQrcode:function(e){this.hoverId=e},getProjectList:function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showLoading("加载中..."),e.next=3,g.a.get("/cgi-bin/gamelubandevwap/getcommunitygamelist?game_type=7");case 3:0===(t=e.sent).data.errcode&&(this.activites_list=t.data.data),this.hideLoading();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),changeNav:function(e){var t=e.index,a=document.querySelector({0:"#_hot",1:"#_fine",2:"#_new"}[t]);document.documentElement.scrollTo(0,a.offsetTop-21)}},destroyed:function(){document.removeEventListener("scroll",this.scrollMethod)}},C=(a("1d0c"),Object(l.a)(b,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__gallery"},[a("div",{staticClass:"gamemaker__galleryBox"},[a("div",{staticClass:"tab-content"},[a("LBTabs",{attrs:{tabsData:e.tabsData,activeIndex:e.selectNav},on:{change:e.changeNav}})],1),a("div",{staticClass:"gamemaker__galleryDetailTitle",staticStyle:{visibility:"hidden"},attrs:{id:"_hot"}},[e._v("潜力作品")]),a("div",{staticClass:"gamemaker__galleryList"},[e._m(0),e._l(e.hot_list_recomment,(function(t){return a("div",{staticClass:"gamemaker__Product",on:{click:function(a){e.openProject(t.game_id)}}},[a("div",{staticClass:"gamemaker__ProductImgBox"},[a("div",{staticClass:"gamemaker__ProductImg",style:{backgroundImage:"url("+(t.public_share_image_url||t.screenshot)+")"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverId===t.game_id,expression:"hoverId === item.game_id"}],staticClass:"gamemaker__ProductQR"},[a("div",{staticClass:"gamemaker__ProductQRBitmap",style:{backgroundImage:"url(/cgi-bin/gamelubandevwap/getfreeloginbetareleasecode?game_id="+t.game_id+"&release_type=2&is_public=true)"}})]),a("div",{staticClass:"gamemaker__ProductQR-background"}),e.isMobile||t.code_type?e._e():a("div",{staticClass:"gamemaker__ProductQRCode icon",on:{mouseout:function(t){e.hideQrCode()},mouseover:function(a){e.showQrcode(t.game_id)}}})]),a("div",{staticClass:"gamemaker__ProductTitle"},[e._v(e._s(t.project_name||"未命名"))]),a("div",{staticClass:"gamemaker__ProductInfo"},[a("div",[a("div",{staticClass:"gamemaker__ProductHeadImg",style:{"background-image":"url("+t.head_img_url.replace(/^http:/,"https:")+"/64)"}}),a("div",{staticClass:"gamemaker__ProductNickname"},[e._v(e._s(t.nick_name||"匿名用户"))])]),a("div",[a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductLike"},[e._v(e._s(t.like_num||0))]),a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductView"},[e._v(e._s(t.page_view||0))])])])])}))],2),e.hot_list_recomment.length?a("div",{staticClass:"div-line"}):e._e(),a("div",{staticClass:"gamemaker__galleryDetailTitle",staticStyle:{visibility:"hidden"},attrs:{id:"_fine"}},[e._v("热门作品")]),a("div",{staticClass:"gamemaker__galleryList"},e._l(e.fine_list_recomment,(function(t){return a("div",{staticClass:"gamemaker__Product",on:{click:function(a){e.openProject(t.game_id)}}},[a("div",{staticClass:"gamemaker__ProductImgBox"},[a("div",{staticClass:"gamemaker__ProductImg",style:{backgroundImage:"url("+(t.public_share_image_url||t.screenshot)+")"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverId===t.game_id,expression:"hoverId === item.game_id"}],staticClass:"gamemaker__ProductQR"},[a("div",{staticClass:"gamemaker__ProductQRBitmap",style:{backgroundImage:"url(/cgi-bin/gamelubandevwap/getfreeloginbetareleasecode?game_id="+t.game_id+"&release_type=2&is_public=true)"}})]),a("div",{staticClass:"gamemaker__ProductQR-background"}),e.isMobile||t.code_type?e._e():a("div",{staticClass:"gamemaker__ProductQRCode icon",on:{mouseout:function(t){e.hideQrCode()},mouseover:function(a){e.showQrcode(t.game_id)}}})]),a("div",{staticClass:"gamemaker__ProductTitle"},[e._v(e._s(t.project_name||"未命名"))]),a("div",{staticClass:"gamemaker__ProductInfo"},[a("div",[a("div",{staticClass:"gamemaker__ProductHeadImg",style:{"background-image":"url("+t.head_img_url.replace(/^http:/,"https:")+"/64)"}}),a("div",{staticClass:"gamemaker__ProductNickname"},[e._v(e._s(t.nick_name||"匿名用户"))])]),a("div",[a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductLike"},[e._v(e._s(t.like_num||0))]),a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductView"},[e._v(e._s(t.page_view||0))])])])])}))),e.fresh_list_recomment.length?a("div",{staticClass:"div-line"}):e._e(),a("div",{staticClass:"gamemaker__galleryDetailTitle",staticStyle:{visibility:"hidden"},attrs:{id:"_new"}},[e._v("最近新作")]),a("div",{staticClass:"gamemaker__galleryList"},e._l(e.fresh_list_recomment,(function(t){return a("div",{staticClass:"gamemaker__Product",on:{click:function(a){e.openProject(t.game_id)}}},[a("div",{staticClass:"gamemaker__ProductImgBox"},[a("div",{staticClass:"gamemaker__ProductImg",style:{backgroundImage:"url("+(t.public_share_image_url||t.screenshot)+")"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverId===t.game_id,expression:"hoverId === item.game_id"}],staticClass:"gamemaker__ProductQR"},[a("div",{staticClass:"gamemaker__ProductQRBitmap",style:{backgroundImage:"url(/cgi-bin/gamelubandevwap/getfreeloginbetareleasecode?game_id="+t.game_id+"&release_type=2&is_public=true)"}})]),a("div",{staticClass:"gamemaker__ProductQR-background"}),e.isMobile||t.code_type?e._e():a("div",{staticClass:"gamemaker__ProductQRCode icon",on:{mouseout:function(t){e.hideQrCode()},mouseover:function(a){e.showQrcode(t.game_id)}}})]),a("div",{staticClass:"gamemaker__ProductTitle"},[e._v(e._s(t.project_name||"未命名"))]),a("div",{staticClass:"gamemaker__ProductInfo"},[a("div",[a("div",{staticClass:"gamemaker__ProductHeadImg",style:{"background-image":"url("+t.head_img_url.replace(/^http:/,"https:")+"/64)"}}),a("div",{staticClass:"gamemaker__ProductNickname"},[e._v(e._s(t.nick_name||"匿名用户"))])]),a("div",[a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductLike"},[e._v(e._s(t.like_num||0))]),a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductView"},[e._v(e._s(t.page_view||0))])])])])})))]),e.isLoading?a("LBMessage",{attrs:{content:e.loadingTxt,theme:"loading"}}):e._e()],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__Product"},[a("div",{staticClass:"gamemaker__ProductImgBox",staticStyle:{"background-color":"white"}},[a("img",{staticClass:"gamemaker__qrcode",attrs:{src:"https://mmgame.qpic.cn/image/0e7ab3b93ea4962104bcd11877ee05f18bffac17b5c17eac52e2b2a5df6d0daf"}}),a("div",{staticClass:"gamemaker_title-special"},[e._v("手机扫码体验更多作品")])])])}],!1,null,"f1e860f6",null).exports),w=(a("f751"),a("7f7f"),a("90b9")),y={data:function(){return{hoverId:null,game_id:0,more_project_meta:!1,more_project_meta_more:!1,like_num:0,project_meta:!1,likeActive:!1,clickDisable:!1,playing:!1,author_head_img_url:"",author_name:"",locationHref:!1,re_creation_project_meta:[],re_creation_project_meta_length:0,re_creation_game_id:!1,re_creation_author_name:"",not_found:!1,public_type:1,comment_content:"",comment_list:[],first_page_visit_time:0,replyContentId:"",replied_content_id:"",replied_open_id:"",random:0,comment_info:{},game_author_open_id:"",view_user_info:{head_img_url:""},maxLength:200,total:0,replied_user_info:{}}},props:["openProject","isMobile","isIPad"],computed:{timestamp:function(){return function(e){if(!e)return"未知";e*=1e3;var t=new Date(e);return t.getFullYear()+"/"+Object(w.e)(t.getMonth()+1)+"/"+Object(w.e)(t.getDate())+" "+Object(w.e)(t.getHours())+":"+Object(w.e)(t.getMinutes())}}},mounted:function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.init();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),beforeRouteUpdate:function(e,t,a){if("game"===t.name&&"game"===e.name){this.locationHref=!1;var i=Object(p.a)("code",location.search),s=window.localStorage.getItem("pad_ticket");i&&!s&&Object(p.b)(i)}"game"===e.name&&this.init(encodeURIComponent(e.query.game_id)),a()},directives:{focus:{inserted:function(e,t){t.value&&e.focus()},update:function(e,t){t.value&&e.focus()}}},methods:{hideQrCode:function(){this.hoverId=null},showQrcode:function(e){this.hoverId=e},deleteReply:function(e,t){var a=this;window.confirm("确定要删除此评论吗？")&&(this.comment_list.forEach((function(e){a.$set(e.base,"isShowReplyInput",!1)})),g.a.post("/cgi-bin/gamelubandevwap/deletecomment?padticket="+(window.localStorage.getItem("pad_ticket")||""),{delete_comment_req:{content_id:t?t.base.content_id:e.base.content_id,game_id:this.game_id}}).then((function(i){0===i.data.errcode?(window.showTips("删除成功"),t?e.child_comment_info.comment_list.splice(e.child_comment_info.comment_list.indexOf(t),1):(a.total-=1,a.comment_list.splice(a.comment_list.indexOf(e),1))):-10000401===i.data.errcode?(window.showTips("登录已经过期，请重新登录"),a.logout(),a.locationHref=encodeURIComponent("https://gamemaker.weixin.qq.com/#/game?game_id="+a.game_id)):window.showTips("删除失败")})).catch((function(e){a.tryLogin(e)})))},tryLogin:function(e){e.message.indexOf("status code 401")>-1&&(window.showTips("登录已经过期，请重新登录"),this.logout(),this.locationHref=encodeURIComponent("https://gamemaker.weixin.qq.com/#/game?game_id="+this.game_id))},loadMoreReply:function(e){var t=this;this.comment_list.forEach((function(e){t.$set(e.base,"isShowReplyInput",!1)})),e.child_comment_info.has_next?g.a.post("/cgi-bin/gamelubandevwap/getcommentlist?padticket="+(window.localStorage.getItem("pad_ticket")||""),{get_comment_req:{content_id:e.base.content_id,offset:e.child_comment_info.next_offset,limit:10,first_page_visit_time:this.first_page_visit_time,game_id:this.game_id,scene:1}}).then((function(a){if(0===a.data.errcode){var i=a.data.data.get_comment_resp_data.comment_info;e.child_comment_info.comment_list=e.child_comment_info.comment_list.concat(i.comment_list),Object.assign(e.child_comment_info,{has_next:i.has_next,next_offset:i.next_offset})}else-10000401===a.data.errcode?(window.showTips("登录已经过期，请重新登录"),t.logout(),t.locationHref=encodeURIComponent("https://gamemaker.weixin.qq.com/#/game?game_id="+t.game_id)):window.showTips("系统错误，请稍后再试")})).catch((function(e){t.tryLogin(e)})):e.child_comment_info.has_next=!1},formatTime:function(e){var t=6e4,a=36e5,i=24*a,s=7*i,o=30*i;return function(e){var r=(new Date).getTime()-e,n=null;return r<0||(n=r/o>=1?parseInt(r/o)+"月前":r/s>=1?parseInt(r/s)+"周前":r/i>=1?parseInt(r/i)+"天前":r/a>=1?parseInt(r/a)+"小时前":r/t>=1?parseInt(r/t)+"分钟前":"刚刚"),n}(1e3*e)},submitComment:function(){""!==this.comment_content?this.addCommit(this.game_id,this.comment_content):window.showTips("评论不能为空")},getCommentList:function(e){var t=this;g.a.post("/cgi-bin/gamelubandevwap/getcommentlist?padticket="+(window.localStorage.getItem("pad_ticket")||""),{get_comment_req:{content_id:e||this.game_id,offset:this.comment_info.next_offset||0,limit:10,first_page_visit_time:this.first_page_visit_time,game_id:this.game_id,scene:1}}).then((function(e){0===e.data.errcode?t.comment_info.next_offset?(t.comment_list.forEach((function(e){t.$set(e.base,"isShowReplyInput",!1)})),t.comment_info=e.data.data.get_comment_resp_data.comment_info,t.comment_list=t.comment_list.concat(t.comment_info.comment_list)):(t.view_user_info=e.data.data.get_comment_resp_data.view_user_info||{},t.game_author_open_id=e.data.data.get_comment_resp_data.game_author_open_id,t.comment_info=e.data.data.get_comment_resp_data.comment_info,t.comment_list=t.comment_info.comment_list,t.total=t.comment_info.total):-10000401===e.data.errcode?(window.showTips("登录已经过期，请重新登录"),t.logout(),t.locationHref=encodeURIComponent("https://gamemaker.weixin.qq.com/#/game?game_id="+t.game_id)):window.showTips("系统错误，请稍后再试")})).catch((function(e){t.tryLogin(e)}))},hideReplyInput:function(){var e=this;this.comment_list.forEach((function(t){e.$set(t.base,"isShowReplyInput",!1)}))},showReplyInput:function(e,t){var a=this;t?(this.$set(e,"placeholder","回复@"+t.author_user_info.nick_name),this.replied_content_id=t.base.content_id,this.replied_open_id=t.author_user_info.open_id,this.replied_user_info=t.author_user_info):(this.$set(e,"placeholder","回复@"+e.author_user_info.nick_name),this.replied_content_id=null,this.replied_open_id=null,this.replied_user_info={}),this.replyContentId=e.base.content_id,this.random=Math.random(),this.comment_list.forEach((function(t){e.base.content_id===t.base.content_id?a.$set(t.base,"isShowReplyInput",!0):a.$set(t.base,"isShowReplyInput",!1)}))},replyTheReply:function(e){""!==e?this.addCommit(this.replyContentId,e):window.showTips("评论不能为空")},replyTheReplySecond:function(e,t){""!==e?this.addCommit(this.replyContentId,e,this.replied_content_id,this.replied_open_id,t):window.showTips("评论不能为空")},addCommit:function(e,t,a,i,s){var o=this,r=window.localStorage.getItem("pad_ticket");if(r){var n={parent_content_id:e,content:t,game_id:this.game_id};a&&i&&(n.replied_open_id=i,n.replied_content_id=a),g.a.post("/cgi-bin/gamelubandevwap/addcomment?padticket="+r,{add_comment_req:n}).then((function(a){if(0===a.data.errcode)if(window.showTips("评论成功"),e===o.game_id)o.comment_content="",o.comment_list.unshift({author_user_info:o.view_user_info,base:{content:t,content_id:a.data.data.add_comment_resp_data.content_id,create_time:Math.ceil(Date.now()/1e3)},child_comment_info:{comment_list:[]}});else{for(var i=0;i<o.comment_list.length;i++)if(o.comment_list[i].base.content_id===e){var r={author_user_info:o.view_user_info,base:{content:t,content_id:a.data.data.add_comment_resp_data.content_id,create_time:Math.ceil(Date.now()/1e3)}};o.replied_open_id&&o.replied_user_info&&(r.replied_user_info=o.replied_user_info),o.comment_list[i].child_comment_info.comment_list.push(r);break}s.reply=""}else-10000401===a.data.errcode?(window.showTips("登录已经过期，请重新登录"),o.logout(),o.locationHref=encodeURIComponent("https://gamemaker.weixin.qq.com/#/game?game_id="+that.game_id)):window.showTips("评论失败")})).catch((function(e){o.tryLogin(e)}))}else window.showTips("评论需要先登录"),this.logout(),this.locationHref=encodeURIComponent("https://gamemaker.weixin.qq.com/#/game?game_id="+this.game_id)},init:function(e){var t=this;this.code_json=null,this.comment_content="",this.comment_list=[],this.first_page_visit_time=0,this.replyContentId="",this.replied_content_id="",this.replied_open_id="",this.random=0,this.comment_info={},this.game_author_open_id="",this.view_user_info={head_img_url:""},this.maxLength=200,this.total=0,this.replied_user_info={},this.first_page_visit_time=Math.ceil(Date.now()/1e3),this.re_creation_project_meta=[],this.re_creation_project_meta_length=0,this.more_project_meta=!1,this.more_project_meta_more=!1,this.like_num=0,this.project_meta=!1,this.locationHref=!1,this.not_found=!1,this.stop(),this.game_id=e||encodeURIComponent(this.$route.query.game_id);var a=Object(p.a)("code",location.search),i=window.localStorage.getItem("pad_ticket");a&&!i&&Object(p.b)(a),i&&g.a.get("/cgi-bin/gamelubandevwap/checkuserliked",{params:{game_id:this.game_id,padticket:window.localStorage.getItem("pad_ticket")}}).then((function(e){0===e.data.errcode&&e.data.data.is_liked?t.likeActive=!0:-10000401===e.data.errcode?(window.showTips("登录已经过期，请重新登录"),t.logout(),t.locationHref=encodeURIComponent("https://gamemaker.weixin.qq.com/#/game?game_id="+t.game_id)):t.likeActive=!1})).catch((function(e){})),this.game_id?(setTimeout((function(){window.showTips("加载中...",1e3)}),0),this.getConfig()):this.$router.replace({name:"index"}),this.getCommentList()},openList:function(e){this.$router.push({name:"list",query:{game_id:this.game_id,type:e}})},logout:function(){window.localStorage.removeItem("pad_ticket"),window.localStorage.removeItem("pad_signature"),window.localStorage.removeItem("isLogin"),window.localStorage.removeItem("loginUin"),window.localStorage.removeItem("loginPasswd")},likeGame:(c=Object(m.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hideReplyInput(),!this.likeActive){e.next=4;break}return g.a.get("/cgi-bin/gamelubandevwap/cancellikedproject",{params:{game_id:this.game_id,padticket:window.localStorage.getItem("pad_ticket")}}).then((function(){t.likeActive=!1,t.like_num--})).catch((function(e){t.tryLogin(e)})),e.abrupt("return",!1);case 4:g.a.get("/cgi-bin/gamelubandevwap/likeproject",{params:{game_id:this.game_id,padticket:window.localStorage.getItem("pad_ticket")}}).then((function(){t.likeActive=!0,t.like_num++})).catch((function(e){t.tryLogin(e)}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)}),addIdKey:function(e){for(var t in e.sprites)e.sprites[t].id=t;for(var t in e.styles)e.styles[t].id=t;for(var t in e.variables)e.variables[t].varId=t;for(var t in e.sounds)e.sounds[t].id=t;for(var t in e.scenes)e.scenes[t].id=t;return e},play:function(){if(this.hideReplyInput(),!this.code_json)return!1;this.vm||(this.vm=new VM),this.code_json=this.addIdKey(this.code_json),this.vm.init(this.code_json,null,null,1),this.game=requestAnimationFrame(this.loop.bind(this)),this.playing=!0},stop:function(){this.hideReplyInput(),this.vm&&(this.vm.destroy(),this.vm=null),this.game&&(cancelAnimationFrame(this.game),this.game=null,this.playing=!1)},restart:function(){var e=this;if(this.hideReplyInput(),this.clickDisable)return!1;this.clickDisable=!0,this.vm.reset(),setTimeout((function(){e.clickDisable=!1}),1e3)},loop:function(){this.vm&&this.vm.stepFrame(),this.game=requestAnimationFrame(this.loop.bind(this))},getConfig:(n=Object(m.a)(regeneratorRuntime.mark((function e(){var t,a,i,s,o,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/cgi-bin/gamelubandevwap/pullfreeloginproject",{params:{game_id:this.game_id}});case 2:-10034203===(t=e.sent).data.errcode||-10034200===t.data.errcode?(showTips("该项目尚未公开或已经下架",2e3),this.not_found=!0):0===t.data.errcode?(this.not_found=!1,a=t.data.data,i=a.more_project_meta.filter((function(e){return 0===e.code_type&&e.game_id!==n.game_id})),(s=i.length-3)>0?(this.more_project_meta_more=!!i,o=Math.floor(Math.random()*(s+1)),this.more_project_meta=i.slice(o,o+3)):(this.more_project_meta_more=!1,this.more_project_meta=i),this.code_json=JSON.parse(a.project_version.code_json),this.like_num=a.project_meta.like_num||0,this.project_meta=a.project_meta,this.public_type=a.project_version.public_type,this.project_meta.is_official_project?(this.author_name="小游戏制作工具官方",this.author_head_img_url="https://res.wx.qq.com/wechatgame/product/cdn/luban/logo_b1a569f9.png"):(this.author_name=a.project_meta.author_name,this.author_head_img_url=a.project_meta.author_head_img_url.replace("/0","/64")),this.re_creation_project_meta_length=a.re_creation_project_meta.length,this.re_creation_project_meta_length>2?(r=Math.floor(Math.random()*(this.re_creation_project_meta_length-1)),this.re_creation_project_meta=a.re_creation_project_meta.slice(r,r+3)):this.re_creation_project_meta=a.re_creation_project_meta,this.re_creation_author_name=a.re_creation_info.is_official_project?"小游戏制作工具官方":a.re_creation_info.re_creation_author_name,this.re_creation_game_id=a.re_creation_info.re_creation_game_id,this.game&&this.stop()):(window.showTips("未知错误",2e3),this.$router.replace({name:"index"}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)}),forkGame:(r=Object(m.a)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hideReplyInput(),2===this.public_type){e.next=4;break}return window.showTips("该作品没有开源"),e.abrupt("return");case 4:if(!(t=window.localStorage.getItem("pad_ticket"))){e.next=18;break}return e.prev=6,e.next=9,g.a.get("/cgi-bin/gamelubandevwap/recreation",{params:{game_id:this.game_id,padticket:t}});case 9:a=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),this.tryLogin(err);case 15:-10034211===a.data.errcode?window.showTips("不能改编自己的作品"):0===a.data.errcode?(window.showTips("去改编这个作品吧"),a.data.data&&a.data.data.game_id&&(location.href="https://gamemaker.weixin.qq.com/ide/#/home/"+a.data.data.game_id)):window.showTips("未知错误"),e.next=20;break;case 18:window.showTips("改编需要先登录"),this.locationHref=encodeURIComponent("https://gamemaker.weixin.qq.com/#/game?game_id="+this.game_id);case 20:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(){return r.apply(this,arguments)})},destroyed:function(){this.stop()}},I=(a("c9ab"),a("f18c"),a("1655"),Object(l.a)(y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__project",class:{"gamemaker__project-mobile":e.isMobile}},[e.not_found?a("div",{staticClass:"gamemaker__404"},[a("div",{staticClass:"gamemaker__404-image icon"}),a("div",{staticClass:"gamemaker__404-content"},[e._v("此作品已被作者删除")])]):[e.project_meta?a("div",{staticClass:"gamemaker__main",class:{gamemaker__main_mobile:e.isMobile&&!e.isIPad}},[a("div",{class:{"gamemaker__game-header":e.isMobile}},[a("div",{staticClass:"gamemaker__user"},[a("div",{staticClass:"gamemaker__headimage",class:{"gamemaker__headimage-mobile":e.isMobile}},[e.author_head_img_url?a("div",{staticClass:"full icon",style:{"background-image":"url("+e.author_head_img_url.replace("http","https")+")"}}):e._e()]),a("div",{class:{"gamemaker__headimage-head":e.isMobile},staticStyle:{"margin-top":"3px"}},[a("div",{staticClass:"gamemaker__nickname"},[e._v(e._s(e.author_name))]),a("div",{staticClass:"gamemaker__game-time"},[2===e.public_type?a("span",[e._v("作品已开放源代码")]):e._e()])])])]),a("div",{staticClass:"gamemaker__container",class:{"gamemaker__container-mobile":e.isMobile}},[!e.isMobile||e.isIPad?a("div",{staticClass:"gamemaker__game gamemaker__game-border"},[a("div",{staticClass:"gamemaker__canvas",class:{gamemaker__canvas_landscape:2===e.project_meta.screen_type,gamemaker__canvas_vertical:2!==e.project_meta.screen_type}},[a("div",{staticClass:"full",attrs:{id:"preview"}}),e.playing?e._e():a("div",{staticClass:"gamemaker__screenshot",style:{"background-image":"url("+e.project_meta.screenshot+")"}},[a("div",{staticClass:"full",on:{click:function(t){return t.stopPropagation(),e.play(t)}}})]),e.playing?a("div",{staticClass:"gamemaker__game-restart",on:{click:function(t){return t.stopPropagation(),e.restart(t)}}}):e._e()])]):e._e(),a("div",{staticClass:"gamemaker__data"},[a("div",{staticClass:"gamemaker__data-info gamemaker__game-border",class:{"gamemaker__data-info-mobile":e.isMobile}},[a("img",{staticClass:"gamemaker__data-info-qrcode icon",attrs:{src:"/cgi-bin/gamelubandevwap/getfreeloginbetareleasecode?game_id="+e.game_id+"&release_type=2&is_public=true)"}}),a("div",{staticClass:"gamemaker__data-info-name"},[e._v(e._s(e.project_meta.project_name))]),a("div",{staticClass:"gamemaker__buttons"},[a("div",{staticClass:"gamemaker__game-like",class:{"gamemaker__game-like_active":e.likeActive},on:{click:e.likeGame}},[e._v(e._s(e.like_num||0))]),a("div",{staticClass:"gamemaker__game-fork",class:{"gamemaker__button-disable":2!==e.public_type},on:{click:e.forkGame}},[a("span",{staticClass:"gamemaker__game-fork_txt"},[e._v("改编")])])]),e._m(0),a("div",{staticClass:"gamemaker__data-info-description"},[a("div",{staticClass:"gamemaker__data-content"},[e._v(e._s(e.project_meta.description)),a("br"),a("br"),a("br"),e.re_creation_game_id?a("div",[e._v("改编自"),a("span",{on:{click:function(t){e.openProject(e.re_creation_game_id)}}},[e._v(e._s(e.re_creation_author_name)+" 的作品")])]):e._e()])])])])])]):e._e(),!e.code_json||e.isMobile&&!e.isIPad?e._e():a("div",{staticClass:"game_main_container"},[a("div",{staticClass:"comment_container game_main_container-left",class:{maxWidth:e.more_project_meta&&e.more_project_meta.length||e.re_creation_project_meta&&e.re_creation_project_meta_length}},[a("div",{staticClass:"gamemaker__galleryDetailTitle"},[e._v("\n          全部评论"),a("span",{staticClass:"game-comment_header-total"},[e._v("("+e._s(e.total||0)+")")])]),a("div",{staticClass:"game-comment_sender"},[a("div",{staticClass:"game-comment--user_face"},[a("div",{staticClass:"game-comment--user_head",style:{"background-image":"url("+(e.view_user_info.head_img_url||"").replace("http","https")+"/0)"}})]),a("div",{staticClass:"game-comment_editor--content_container"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment_content,expression:"comment_content"}],staticClass:"game-comment_editor",attrs:{placeholder:"创作不易，请多多鼓励作者哦",maxlength:"200"},domProps:{value:e.comment_content},on:{input:function(t){t.target.composing||(e.comment_content=t.target.value)}}}),a("span",{staticClass:"game-comment_editor--left_word"},[e._v("还可以输入"+e._s(e.maxLength-e.comment_content.length)+"字")])]),a("a",{staticClass:"game-comment_button",on:{click:e.submitComment}},[e._v("发表")])]),a("div",{staticClass:"game-comment-list"},e._l(e.comment_list,(function(t){return a("div",{staticClass:"game-comment-item"},[a("div",{staticClass:"game-comment--user_face"},[a("div",{staticClass:"game-comment--user_head",style:{"background-image":"url("+t.author_user_info.head_img_url.replace("http","https")+"/0)"}})]),a("div",{staticClass:"game-comment-item-body"},[a("div",{staticClass:"game-comment-item-body__header"},[a("div",{staticClass:"game-comment-item-body__header-nickname",class:{author_high_name:e.game_author_open_id===t.author_user_info.open_id}},[e._v(e._s(t.author_user_info.nick_name)),e.game_author_open_id===t.author_user_info.open_id?a("span",[e._v("(作者)")]):e._e()]),a("div",{staticClass:"game-comment-item-body__header-time"},[e._v(e._s(e.formatTime(t.base.create_time)))])]),a("div",{staticClass:"game-comment-item-body__content",attrs:{"data-content-id":t.base.content_id},on:{click:function(a){e.showReplyInput(t)}}},[e._v(e._s(t.base.content||""))]),a("div",{staticClass:"game-comment-item-body__actions"},[e.view_user_info.open_id===t.author_user_info.open_id?a("div",{staticClass:"game-comment-item-body__actions-reply-delete",on:{click:function(a){e.deleteReply(t)}}},[e._v("删除")]):e._e(),a("div",{staticClass:"game-comment-item-body__actions-reply",on:{click:function(a){e.showReplyInput(t)}}},[e._v("回复")])]),a("div",{staticClass:"game-comment-item-body__reply"},[e._l(t.child_comment_info.comment_list,(function(i){return a("div",{staticClass:"game-comment-item-body__reply-item"},[a("div",{staticClass:"game-comment--user_face"},[a("div",{staticClass:"game-comment--user_head",style:{"background-image":"url("+i.author_user_info.head_img_url.replace("http","https")+"/0)"}})]),a("div",{staticClass:"game-comment-item-body"},[a("div",{staticClass:"game-comment-item-body__header"},[a("div",{staticClass:"game-comment-item-body__header-nick"},[a("span",{staticClass:"game-comment-item-body__header-nickname",class:{author_high_name:e.game_author_open_id===i.author_user_info.open_id}},[e._v(e._s(e.game_author_open_id===i.author_user_info.open_id?"作者":i.author_user_info.nick_name))]),i.replied_user_info&&"string"==typeof i.replied_user_info.nick_name?a("div",{staticStyle:{display:"inline-block"}},[a("span",{staticStyle:{padding:"0 10px"}},[e._v("回复")]),a("span",{staticClass:"game-comment-item-body__header-nickname",class:{author_high_name:e.game_author_open_id===i.replied_user_info.open_id}},[e._v(e._s(e.game_author_open_id===i.replied_user_info.open_id?"作者":i.replied_user_info.nick_name))])]):e._e()]),a("div",{staticClass:"game-comment-item-body__header-time"},[e._v(e._s(e.formatTime(i.base.create_time)))])]),a("div",{staticClass:"game-comment-item-body__content",attrs:{"data-content-id":i.base.content_id},on:{click:function(a){e.showReplyInput(t,i)}}},[e._v(e._s(i.base.content||"目前检测到的BUG/建议：\n      1.可以在触发点击的文字加一个透明底框，便于玩家点击。\n      2.是“镐子”不是“稿子”（别问我怎么知道的）\n      3.可以同时干两件事（边砍树边打猎之类的），建议加个正在行动检测"))]),a("div",{staticClass:"game-comment-item-body__actions"},[e.view_user_info.open_id===i.author_user_info.open_id?a("div",{staticClass:"game-comment-item-body__actions-reply-delete",on:{click:function(a){e.deleteReply(t,i)}}},[e._v("删除")]):e._e(),a("div",{staticClass:"game-comment-item-body__actions-reply",on:{click:function(a){e.showReplyInput(t,i)}}},[e._v("回复")])])])])})),t.child_comment_info.has_next?a("div",{staticClass:"game-commet-more__btn",on:{click:function(a){e.loadMoreReply(t)}}},[a("a",[e._v("展开更多")])]):e._e(),t.base.isShowReplyInput?a("div",{staticClass:"game-comment_reply--reply_sender"},[a("textarea",{directives:[{name:"focus",rawName:"v-focus",value:t.base.content_id===e.replyContentId,expression:"item.base.content_id === replyContentId"},{name:"model",rawName:"v-model",value:t.reply,expression:"item.reply"}],staticClass:"game-comment_reply--reply_editor",attrs:{placeholder:t.placeholder,maxlength:"200"},domProps:{value:t.reply},on:{input:function(a){a.target.composing||e.$set(t,"reply",a.target.value)}}}),a("div",{staticClass:"game-comment_reply--reply_send",on:{click:function(a){e.replyTheReplySecond(t.reply,t)}}},[e._v("回复")])]):e._e()],2)])])}))),a("div",{staticStyle:{"padding-bottom":"20px"}},[e.comment_info.has_next?a("div",{staticClass:"game-commet-load-more__btn",on:{click:function(t){e.getCommentList()}}},[a("a",[e._v("更多评论")])]):e._e()]),a("div",{staticStyle:{display:"none"}},[e._v(e._s(e.random))]),a("div",{staticClass:"game-comment-footer"})]),a("div",{staticClass:"game_main_container-right"},[e.more_project_meta&&e.more_project_meta.length>0?a("div",{staticClass:"gamemaker__galleryBox"},[a("div",{staticClass:"gamemaker__galleryDetailTitle"},[e._v("\n        "+e._s(e.author_name)+"的更多作品\n        "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.more_project_meta_more,expression:"more_project_meta_more"}],staticClass:"gamemaker__galleryMore",on:{click:function(t){e.openList(1)}}},[e._v("查看全部")])]),a("div",{staticClass:"gamemaker__galleryList"},e._l(e.more_project_meta,(function(t){return a("div",{staticClass:"gamemaker__Product",on:{click:function(a){e.openProject(t.game_id)}}},[a("div",{staticClass:"gamemaker__ProductImgBox"},[a("div",{staticClass:"gamemaker__ProductImg",style:{backgroundImage:"url("+t.public_share_image_url+")"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverId===t.game_id,expression:"hoverId === item.game_id"}],staticClass:"gamemaker__ProductQR"},[a("div",{staticClass:"gamemaker__ProductQRBitmap",style:{backgroundImage:"url(/cgi-bin/gamelubandevwap/getfreeloginbetareleasecode?game_id="+t.game_id+"&release_type=2&is_public=true)"}})]),a("div",{staticClass:"gamemaker__ProductQR-background"}),!e.isMobile||e.isIPad?a("div",{staticClass:"gamemaker__ProductQRCode icon",on:{mouseout:function(t){e.hideQrCode()},mouseover:function(a){e.showQrcode(t.game_id)}}}):e._e()]),a("div",{staticClass:"gamemaker__ProductTitle"},[e._v(e._s(t.project_name||"未命名"))]),a("div",{staticClass:"gamemaker__ProductInfo"},[a("div",[a("div",{staticClass:"gamemaker__ProductHeadImg",style:{"background-image":"url("+e.author_head_img_url.replace("http","https")+")"}}),a("div",{staticClass:"gamemaker__ProductNickname"},[e._v(e._s(e.author_name))])]),a("div",[a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductLike"},[e._v(e._s(t.like_num||0))]),a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductView"},[e._v(e._s(t.page_view||0))])])])])})))]):e._e(),e.re_creation_project_meta&&e.re_creation_project_meta_length>0?a("div",{staticClass:"gamemaker__galleryBox"},[a("div",{staticClass:"gamemaker__galleryDetailTitle"},[e._v("\n            基于此作品的改编\n            "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.re_creation_project_meta_length>2,expression:"re_creation_project_meta_length > 2"}],staticClass:"gamemaker__galleryMore",on:{click:function(t){e.openList(0)}}},[e._v("查看全部")])]),a("div",{staticClass:"gamemaker__galleryList"},e._l(e.re_creation_project_meta,(function(t){return a("div",{staticClass:"gamemaker__Product",on:{click:function(a){e.openProject(t.game_id)}}},[a("div",{staticClass:"gamemaker__ProductImgBox"},[a("div",{staticClass:"gamemaker__ProductImg",style:{backgroundImage:"url("+t.public_share_image_url+")"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverId===t.game_id,expression:"hoverId === item.game_id"}],staticClass:"gamemaker__ProductQR"},[a("div",{staticClass:"gamemaker__ProductQRBitmap",style:{backgroundImage:"url(/cgi-bin/gamelubandevwap/getfreeloginbetareleasecode?game_id="+t.game_id+"&release_type=2&is_public=true)"}})]),a("div",{staticClass:"gamemaker__ProductQR-background"}),!e.isMobile||e.isIPad?a("div",{staticClass:"gamemaker__ProductQRCode icon",on:{mouseout:function(t){e.hideQrCode()},mouseover:function(a){e.showQrcode(t.game_id)}}}):e._e()]),a("div",{staticClass:"gamemaker__ProductTitle"},[e._v(e._s(t.project_name||"未命名"))]),a("div",{staticClass:"gamemaker__ProductInfo"},[a("div",[a("div",{staticClass:"gamemaker__ProductHeadImg",style:{"background-image":"url("+t.author_head_img_url.replace("http","https")+")"}})]),a("div",{staticClass:"gamemaker__ProductNickname"},[e._v(e._s(t.author_name))]),a("div",[a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductLike"},[e._v(e._s(t.like_num||0))]),a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductView"},[e._v(e._s(t.page_view||0))])])])])})))]):e._e()])]),e.locationHref?a("div",{staticClass:"wxQRcodeWrapper full",on:{click:function(t){e.locationHref=!1}}},[a("iframe",{staticClass:"wxQRcode",attrs:{sandbox:"allow-scripts allow-top-navigation allow-same-origin",src:"https://open.weixin.qq.com/connect/qrconnect?appid=wx22f5ac1e9e1ee4e0&redirect_uri="+e.locationHref+"&response_type=code&scope=snsapi_login&style=white&href=data:text/css;base64,LmltcG93ZXJCb3ggLnFyY29kZSB7d2lkdGg6IDMwMHB4O30NCi5pbXBvd2VyQm94IC50aXRsZSB7ZGlzcGxheTogbm9uZTt9DQouaW1wb3dlckJveCAuaW5mbyB7d2lkdGg6IDMwMHB4O30NCi5pbXBvd2VyQm94IC5zdGF0dXMge3RleHQtYWxpZ246IGNlbnRlcjt9DQo=",frameborder:"0",scrolling:"no",width:"300px",height:"400px"}})]):e._e()]],2)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__entitle"},[a("span",{staticClass:"gamemaker__entitle-line"}),a("span",{staticClass:"gamemaker__entitle-txt"},[e._v("作品说明")]),a("span",{staticClass:"gamemaker__entitle-line"})])}],!1,null,"66ad8eb4",null).exports),x=(a("c5f6"),{data:function(){return{more_project_meta:!1,re_creation_project_meta:!1,project_meta:{project_name:""},list_type:1,author_name:"TA",author_head_img_url:!1,hoverId:null}},computed:{getList:function(){return this.list_type?this.more_project_meta:this.re_creation_project_meta}},props:["openProject","isMobile"],mounted:function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.list_type=Number(encodeURIComponent(this.$route.query.type)),this.game_id=encodeURIComponent(this.$route.query.game_id),this.game_id?this.getConfig():this.$router.replace({name:"index"});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),methods:{hideQrCode:function(){this.hoverId=null},showQrcode:function(e){this.hoverId=e},getConfig:function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/cgi-bin/gamelubandevwap/pullfreeloginproject",{params:{game_id:this.game_id}});case 2:-10034203===(t=e.sent).data.errcode||-10034200===t.data.errcode?(showTips("该项目尚未发布或已经下架",2e3),this.$router.replace({name:"index"})):0===t.data.errcode?(a=t.data.data,i=a.more_project_meta.filter((function(e){return 0===e.code_type})),this.more_project_meta=i,this.re_creation_project_meta=a.re_creation_project_meta,this.project_meta=a.project_meta,this.project_meta.is_official_project?(this.author_name="小游戏制作工具官方",this.author_head_img_url="https://res.wx.qq.com/wechatgame/product/cdn/luban/logo_b1a569f9.png"):(this.author_name=a.project_meta.author_name,this.author_head_img_url=a.project_meta.author_head_img_url.replace("/0","/64")),this.vm=new VM,this.game&&this.stop()):(showTips("未知错误",2e3),this.$router.replace({name:"index"}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},destroyed:function(){}}),j=Object(l.a)(x,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemaker__gallery",staticStyle:{"margin-top":"100px"}},[a("div",{staticClass:"gamemaker__galleryBox"},[a("div",{staticClass:"gamemaker__galleryDetailTitle"},[e._v(e._s(e.list_type?e.author_name+"的更多作品":"基于《"+e.project_meta.project_name+"》的改编"))]),a("div",{staticClass:"gamemaker__galleryList"},e._l(e.getList,(function(t){return a("div",{staticClass:"gamemaker__Product",on:{click:function(a){e.openProject(t.game_id)}}},[a("div",{staticClass:"gamemaker__ProductImgBox"},[a("div",{staticClass:"gamemaker__ProductImg",style:{backgroundImage:"url("+t.public_share_image_url+")"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverId===t.game_id,expression:"hoverId === item.game_id"}],staticClass:"gamemaker__ProductQR"},[a("div",{staticClass:"gamemaker__ProductQRBitmap",style:{backgroundImage:"url(/cgi-bin/gamelubandevwap/getfreeloginbetareleasecode?game_id="+t.game_id+"&release_type=2&is_public=true)"}})]),a("div",{staticClass:"gamemaker__ProductQR-background"}),e.isMobile||t.code_type?e._e():a("div",{staticClass:"gamemaker__ProductQRCode icon",on:{mouseout:function(t){e.hideQrCode()},mouseover:function(a){e.showQrcode(t.game_id)}}})]),a("div",{staticClass:"gamemaker__ProductTitle"},[e._v(e._s(t.project_name||"未命名"))]),a("div",{staticClass:"gamemaker__ProductInfo"},[a("div",[a("div",{staticClass:"gamemaker__ProductHeadImg",style:{"background-image":"url("+(t.author_head_img_url||e.author_head_img_url)+")"}}),a("div",{staticClass:"gamemaker__ProductNickname"},[e._v(e._s(t.author_name||e.author_name))])]),a("div",[a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductLike"},[e._v(e._s(t.like_num||0))]),a("div",{staticClass:"gamemaker__ProductInfoNum gamemaker__ProductView"},[e._v(e._s(t.page_view||0))])])])])})))])])}),[],!1,null,null,null).exports,P=new VueRouter({base:"https://res.wx.qq.com/wechatgame/product/minigame-factory/",routes:[{path:"/",name:"index",component:f},{path:"/gallery",name:"gallery",component:C},{path:"/game",name:"game",component:I},{path:"/list",name:"list",component:j}]});"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then((function(){})).catch((function(e){})),P.beforeEach((function(e,t,a){window.MtaH5&&MtaH5.pgv(),a()})),new Vue({router:P,render:function(e){return e(d)}}).$mount("#index")},"58bf":function(e,t,a){},"6d55":function(e,t,a){},"6d63":function(e,t,a){"use strict";var i=a("58bf");a.n(i).a},"851c":function(e,t,a){},"8f35":function(e,t,a){"use strict";var i=a("38d8");a.n(i).a},"99bf":function(e,t,a){},ab5e:function(e,t,a){},bbe4:function(e,t,a){"use strict";var i=a("18ef");a.n(i).a},c9ab:function(e,t,a){"use strict";var i=a("ab5e");a.n(i).a},f18c:function(e,t,a){"use strict";var i=a("6d55");a.n(i).a}});